# Stripe æ³¨å†Œå®Œæ•´æŒ‡å—

## ğŸŒ æ”¯æŒåœ°åŒº

Stripe ç›®å‰æ”¯æŒä»¥ä¸‹åœ°åŒºï¼š
- ğŸ‡ºğŸ‡¸ **ç¾å›½** - å®Œå…¨æ”¯æŒ
- ğŸ‡¨ğŸ‡¦ **åŠ æ‹¿å¤§** - å®Œå…¨æ”¯æŒ  
- ğŸ‡¬ğŸ‡§ **è‹±å›½** - å®Œå…¨æ”¯æŒ
- ğŸ‡©ğŸ‡ª **å¾·å›½** - å®Œå…¨æ”¯æŒ
- ğŸ‡«ğŸ‡· **æ³•å›½** - å®Œå…¨æ”¯æŒ
- ğŸ‡®ğŸ‡¹ **æ„å¤§åˆ©** - å®Œå…¨æ”¯æŒ
- ğŸ‡ªğŸ‡¸ **è¥¿ç­ç‰™** - å®Œå…¨æ”¯æŒ
- ğŸ‡³ğŸ‡± **è·å…°** - å®Œå…¨æ”¯æŒ
- ğŸ‡§ğŸ‡ª **æ¯”åˆ©æ—¶** - å®Œå…¨æ”¯æŒ
- ğŸ‡¦ğŸ‡¹ **å¥¥åœ°åˆ©** - å®Œå…¨æ”¯æŒ
- ğŸ‡¸ğŸ‡¬ **æ–°åŠ å¡** - å®Œå…¨æ”¯æŒ
- ğŸ‡¯ğŸ‡µ **æ—¥æœ¬** - å®Œå…¨æ”¯æŒ
- ğŸ‡¦ğŸ‡º **æ¾³å¤§åˆ©äºš** - å®Œå…¨æ”¯æŒ
- ğŸ‡³ğŸ‡¿ **æ–°è¥¿å…°** - å®Œå…¨æ”¯æŒ

âš ï¸ **æ³¨æ„**: Stripe ç›®å‰ä¸æ”¯æŒä¸­å›½å¤§é™†åœ°åŒºï¼Œä½†æ”¯æŒé¦™æ¸¯ã€å°æ¹¾ã€æ–°åŠ å¡ç­‰åœ°åŒºã€‚

## ğŸ“ æ³¨å†Œæ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šè®¿é—®æ³¨å†Œé¡µé¢

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® [Stripe æ³¨å†Œé¡µé¢](https://dashboard.stripe.com/register)
2. é€‰æ‹©ä½ æ‰€åœ¨çš„å›½å®¶/åœ°åŒº
3. è¾“å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š
   - é‚®ç®±åœ°å€
   - å…¨å
   - å¯†ç 

### ç¬¬äºŒæ­¥ï¼šéªŒè¯é‚®ç®±

1. æ£€æŸ¥ä½ çš„é‚®ç®±
2. ç‚¹å‡» Stripe å‘é€çš„éªŒè¯é‚®ä»¶
3. å®Œæˆé‚®ç®±éªŒè¯

### ç¬¬ä¸‰æ­¥ï¼šå¡«å†™ä¸šåŠ¡ä¿¡æ¯

#### 3.1 é€‰æ‹©ä¸šåŠ¡ç±»å‹
- **ä¸ªäºº** - ä¸ªäººå¼€å‘è€…æˆ–è‡ªç”±èŒä¸šè€…
- **å…¬å¸** - æœ‰é™è´£ä»»å…¬å¸ã€è‚¡ä»½æœ‰é™å…¬å¸ç­‰
- **éè¥åˆ©ç»„ç»‡** - æ…ˆå–„æœºæ„ã€åŸºé‡‘ä¼šç­‰

#### 3.2 ä¸ªäººä¿¡æ¯
- å§“åï¼ˆä¸èº«ä»½è¯ä»¶ä¸€è‡´ï¼‰
- å‡ºç”Ÿæ—¥æœŸ
- åœ°å€ï¼ˆè¯¦ç»†åœ°å€ï¼‰
- ç”µè¯å·ç 
- èº«ä»½è¯ä»¶å·ç 

#### 3.3 ä¸šåŠ¡è¯¦æƒ…
- ä¸šåŠ¡åç§°
- ç½‘ç«™é“¾æ¥
- ä¸šåŠ¡æè¿°
- äº§å“æˆ–æœåŠ¡ç±»å‹
- é¢„è®¡æœˆäº¤æ˜“é‡

### ç¬¬å››æ­¥ï¼šæ·»åŠ é“¶è¡Œè´¦æˆ·

#### 4.1 é“¶è¡Œè´¦æˆ·è¦æ±‚
- è´¦æˆ·å¿…é¡»ä¸æ³¨å†Œåœ°åŒºä¸€è‡´
- æ”¯æŒä¸»è¦é“¶è¡Œ
- éœ€è¦æä¾›é“¶è¡Œè´¦æˆ·è¯¦ç»†ä¿¡æ¯

#### 4.2 é“¶è¡Œä¿¡æ¯
- é“¶è¡Œåç§°
- è´¦æˆ·æŒæœ‰äººå§“å
- è´¦æˆ·å·ç 
- è·¯ç”±å·ç ï¼ˆç¾å›½ï¼‰/ æ’åºä»£ç ï¼ˆè‹±å›½ï¼‰

### ç¬¬äº”æ­¥ï¼šèº«ä»½éªŒè¯

#### 5.1 ä¸Šä¼ èº«ä»½è¯ä»¶
- æŠ¤ç…§
- é©¾é©¶è¯
- èº«ä»½è¯
- å…¶ä»–æ”¿åºœç­¾å‘çš„èº«ä»½è¯ä»¶

#### 5.2 åœ°å€è¯æ˜
- é“¶è¡Œå¯¹è´¦å•
- æ°´ç”µè´¹è´¦å•
- æ”¿åºœä¿¡ä»¶
- ç§ŸèµåˆåŒ

### ç¬¬å…­æ­¥ï¼šè®¾ç½®å®‰å…¨æªæ–½

#### 6.1 å¯ç”¨åŒé‡éªŒè¯ï¼ˆ2FAï¼‰
- ä¸‹è½½éªŒè¯å™¨åº”ç”¨ï¼ˆGoogle Authenticatorã€Authyï¼‰
- æ‰«æäºŒç»´ç 
- ä¿å­˜æ¢å¤ä»£ç 

#### 6.2 è®¾ç½®APIå¯†é’¥
- ç”Ÿæˆæµ‹è¯•å¯†é’¥
- ç”Ÿæˆæ­£å¼å¯†é’¥
- é…ç½®Webhookç«¯ç‚¹

## ğŸ”‘ API å¯†é’¥è·å–

### æµ‹è¯•ç¯å¢ƒå¯†é’¥

1. ç™»å½• Stripe Dashboard
2. åˆ‡æ¢åˆ° "æµ‹è¯•æ¨¡å¼"
3. è¿›å…¥ "å¼€å‘è€…" > "API å¯†é’¥"
4. å¤åˆ¶ä»¥ä¸‹å¯†é’¥ï¼š
   - **Publishable key** (pk_test_...)
   - **Secret key** (sk_test_...)

### æ­£å¼ç¯å¢ƒå¯†é’¥

1. å®Œæˆè´¦æˆ·éªŒè¯å
2. åˆ‡æ¢åˆ° "æ­£å¼æ¨¡å¼"
3. è¿›å…¥ "å¼€å‘è€…" > "API å¯†é’¥"
4. å¤åˆ¶ä»¥ä¸‹å¯†é’¥ï¼š
   - **Publishable key** (pk_live_...)
   - **Secret key** (sk_live_...)

## ğŸ’° è´¹ç‡ç»“æ„

### ç¾å›½åœ°åŒº
- **åœ¨çº¿æ”¯ä»˜**: 2.9% + $0.30
- **å›½é™…å¡**: é¢å¤– 1.5%
- **è´§å¸è½¬æ¢**: 1%

### æ¬§æ´²åœ°åŒº
- **åœ¨çº¿æ”¯ä»˜**: 1.4% + â‚¬0.25
- **å›½é™…å¡**: é¢å¤– 1.5%
- **è´§å¸è½¬æ¢**: 1%

### å…¶ä»–åœ°åŒº
- è´¹ç‡å› åœ°åŒºè€Œå¼‚
- æŸ¥çœ‹ [Stripe è´¹ç‡é¡µé¢](https://stripe.com/pricing) äº†è§£è¯¦æƒ…

## ğŸ§ª æµ‹è¯•ç¯å¢ƒ

### æµ‹è¯•å¡å·

#### æˆåŠŸæ”¯ä»˜
- **Visa**: 4242 4242 4242 4242
- **MasterCard**: 5555 5555 5555 4444
- **American Express**: 3782 822463 10005

#### å¤±è´¥æ”¯ä»˜
- **è¢«æ‹’ç»**: 4000 0000 0000 0002
- **éœ€è¦éªŒè¯**: 4000 0025 0000 3155
- **èµ„é‡‘ä¸è¶³**: 4000 0000 0000 9995

### æµ‹è¯•å…¶ä»–åœºæ™¯
- **3D Secure**: 4000 0025 0000 3155
- **éœ€è¦éªŒè¯**: 4000 0000 0000 3220
- **å¤„ç†ä¸­**: 4000 0000 0000 0077

## ğŸ”§ é›†æˆåˆ°é¡¹ç›®

### 1. å®‰è£… Stripe SDK

```bash
npm install @stripe/stripe-js
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `.env.local` æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```bash
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_SECRET_KEY=sk_test_your_secret_key
```

### 3. åˆå§‹åŒ– Stripe

```typescript
import { loadStripe } from '@stripe/stripe-js';

const stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY!);
```

### 4. åˆ›å»ºæ”¯ä»˜æ„å›¾

```typescript
const response = await fetch('/api/create-payment-intent', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ amount: 2000, currency: 'usd' }),
});

const { clientSecret } = await response.json();
```

## ğŸš¨ å¸¸è§é—®é¢˜

### Q: ä¸­å›½ç”¨æˆ·å¦‚ä½•æ³¨å†Œ Stripeï¼Ÿ
A: ä¸­å›½ç”¨æˆ·æ— æ³•ç›´æ¥æ³¨å†Œ Stripeï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š
1. ä½¿ç”¨é¦™æ¸¯ã€æ–°åŠ å¡ç­‰æ”¯æŒåœ°åŒºçš„èº«ä»½
2. æ³¨å†Œé¦™æ¸¯å…¬å¸
3. ä½¿ç”¨ä»£ç†æœåŠ¡

### Q: æ³¨å†Œéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ
A: é€šå¸¸éœ€è¦ 1-3 ä¸ªå·¥ä½œæ—¥ï¼Œå¤æ‚æƒ…å†µå¯èƒ½éœ€è¦ 1-2 å‘¨ã€‚

### Q: éœ€è¦ä»€ä¹ˆæ–‡ä»¶ï¼Ÿ
A: åŸºæœ¬éœ€è¦ï¼š
- èº«ä»½è¯ä»¶
- åœ°å€è¯æ˜
- é“¶è¡Œè´¦æˆ·ä¿¡æ¯
- ä¸šåŠ¡è¯æ˜æ–‡ä»¶

### Q: å¯ä»¥æ›´æ”¹é“¶è¡Œè´¦æˆ·å—ï¼Ÿ
A: å¯ä»¥ï¼Œä½†éœ€è¦é‡æ–°éªŒè¯èº«ä»½ã€‚

### Q: æµ‹è¯•ç¯å¢ƒæœ‰é™åˆ¶å—ï¼Ÿ
A: æµ‹è¯•ç¯å¢ƒæ²¡æœ‰äº¤æ˜“é™åˆ¶ï¼Œä½†åªèƒ½ä½¿ç”¨æµ‹è¯•å¡å·ã€‚

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å®˜æ–¹èµ„æº
- [Stripe æ–‡æ¡£](https://stripe.com/docs)
- [Stripe æ”¯æŒä¸­å¿ƒ](https://support.stripe.com)
- [Stripe ç¤¾åŒº](https://github.com/stripe/stripe-node)

### è”ç³»æ–¹å¼
- é‚®ç®±æ”¯æŒ
- åœ¨çº¿èŠå¤©
- ç”µè¯æ”¯æŒï¼ˆéƒ¨åˆ†åœ°åŒºï¼‰

## ğŸ”’ å®‰å…¨å»ºè®®

### 1. å¯†é’¥ç®¡ç†
- æ°¸è¿œä¸è¦åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­æš´éœ² Secret Key
- ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- å®šæœŸè½®æ¢ API å¯†é’¥

### 2. Webhook å®‰å…¨
- éªŒè¯ Webhook ç­¾å
- ä½¿ç”¨ HTTPS
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´

### 3. æ•°æ®ä¿æŠ¤
- å¯ç”¨ PCI DSS åˆè§„
- ä½¿ç”¨ 3D Secure
- å®æ–½æ¬ºè¯ˆæ£€æµ‹

---

*å®Œæˆæ³¨å†Œåï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Stripe å¤„ç†å…¨çƒæ”¯ä»˜äº†ï¼*








