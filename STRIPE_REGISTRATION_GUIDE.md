# Stripe 注册完整指南

## 🌍 支持地区

Stripe 目前支持以下地区：
- 🇺🇸 **美国** - 完全支持
- 🇨🇦 **加拿大** - 完全支持  
- 🇬🇧 **英国** - 完全支持
- 🇩🇪 **德国** - 完全支持
- 🇫🇷 **法国** - 完全支持
- 🇮🇹 **意大利** - 完全支持
- 🇪🇸 **西班牙** - 完全支持
- 🇳🇱 **荷兰** - 完全支持
- 🇧🇪 **比利时** - 完全支持
- 🇦🇹 **奥地利** - 完全支持
- 🇸🇬 **新加坡** - 完全支持
- 🇯🇵 **日本** - 完全支持
- 🇦🇺 **澳大利亚** - 完全支持
- 🇳🇿 **新西兰** - 完全支持

⚠️ **注意**: Stripe 目前不支持中国大陆地区，但支持香港、台湾、新加坡等地区。

## 📝 注册步骤

### 第一步：访问注册页面

1. 打开浏览器，访问 [Stripe 注册页面](https://dashboard.stripe.com/register)
2. 选择你所在的国家/地区
3. 输入以下信息：
   - 邮箱地址
   - 全名
   - 密码

### 第二步：验证邮箱

1. 检查你的邮箱
2. 点击 Stripe 发送的验证邮件
3. 完成邮箱验证

### 第三步：填写业务信息

#### 3.1 选择业务类型
- **个人** - 个人开发者或自由职业者
- **公司** - 有限责任公司、股份有限公司等
- **非营利组织** - 慈善机构、基金会等

#### 3.2 个人信息
- 姓名（与身份证件一致）
- 出生日期
- 地址（详细地址）
- 电话号码
- 身份证件号码

#### 3.3 业务详情
- 业务名称
- 网站链接
- 业务描述
- 产品或服务类型
- 预计月交易量

### 第四步：添加银行账户

#### 4.1 银行账户要求
- 账户必须与注册地区一致
- 支持主要银行
- 需要提供银行账户详细信息

#### 4.2 银行信息
- 银行名称
- 账户持有人姓名
- 账户号码
- 路由号码（美国）/ 排序代码（英国）

### 第五步：身份验证

#### 5.1 上传身份证件
- 护照
- 驾驶证
- 身份证
- 其他政府签发的身份证件

#### 5.2 地址证明
- 银行对账单
- 水电费账单
- 政府信件
- 租赁合同

### 第六步：设置安全措施

#### 6.1 启用双重验证（2FA）
- 下载验证器应用（Google Authenticator、Authy）
- 扫描二维码
- 保存恢复代码

#### 6.2 设置API密钥
- 生成测试密钥
- 生成正式密钥
- 配置Webhook端点

## 🔑 API 密钥获取

### 测试环境密钥

1. 登录 Stripe Dashboard
2. 切换到 "测试模式"
3. 进入 "开发者" > "API 密钥"
4. 复制以下密钥：
   - **Publishable key** (pk_test_...)
   - **Secret key** (sk_test_...)

### 正式环境密钥

1. 完成账户验证后
2. 切换到 "正式模式"
3. 进入 "开发者" > "API 密钥"
4. 复制以下密钥：
   - **Publishable key** (pk_live_...)
   - **Secret key** (sk_live_...)

## 💰 费率结构

### 美国地区
- **在线支付**: 2.9% + $0.30
- **国际卡**: 额外 1.5%
- **货币转换**: 1%

### 欧洲地区
- **在线支付**: 1.4% + €0.25
- **国际卡**: 额外 1.5%
- **货币转换**: 1%

### 其他地区
- 费率因地区而异
- 查看 [Stripe 费率页面](https://stripe.com/pricing) 了解详情

## 🧪 测试环境

### 测试卡号

#### 成功支付
- **Visa**: 4242 4242 4242 4242
- **MasterCard**: 5555 5555 5555 4444
- **American Express**: 3782 822463 10005

#### 失败支付
- **被拒绝**: 4000 0000 0000 0002
- **需要验证**: 4000 0025 0000 3155
- **资金不足**: 4000 0000 0000 9995

### 测试其他场景
- **3D Secure**: 4000 0025 0000 3155
- **需要验证**: 4000 0000 0000 3220
- **处理中**: 4000 0000 0000 0077

## 🔧 集成到项目

### 1. 安装 Stripe SDK

```bash
npm install @stripe/stripe-js
```

### 2. 配置环境变量

在 `.env.local` 文件中添加：

```bash
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_SECRET_KEY=sk_test_your_secret_key
```

### 3. 初始化 Stripe

```typescript
import { loadStripe } from '@stripe/stripe-js';

const stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY!);
```

### 4. 创建支付意图

```typescript
const response = await fetch('/api/create-payment-intent', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ amount: 2000, currency: 'usd' }),
});

const { clientSecret } = await response.json();
```

## 🚨 常见问题

### Q: 中国用户如何注册 Stripe？
A: 中国用户无法直接注册 Stripe，但可以通过以下方式：
1. 使用香港、新加坡等支持地区的身份
2. 注册香港公司
3. 使用代理服务

### Q: 注册需要多长时间？
A: 通常需要 1-3 个工作日，复杂情况可能需要 1-2 周。

### Q: 需要什么文件？
A: 基本需要：
- 身份证件
- 地址证明
- 银行账户信息
- 业务证明文件

### Q: 可以更改银行账户吗？
A: 可以，但需要重新验证身份。

### Q: 测试环境有限制吗？
A: 测试环境没有交易限制，但只能使用测试卡号。

## 📞 技术支持

### 官方资源
- [Stripe 文档](https://stripe.com/docs)
- [Stripe 支持中心](https://support.stripe.com)
- [Stripe 社区](https://github.com/stripe/stripe-node)

### 联系方式
- 邮箱支持
- 在线聊天
- 电话支持（部分地区）

## 🔒 安全建议

### 1. 密钥管理
- 永远不要在客户端代码中暴露 Secret Key
- 使用环境变量存储敏感信息
- 定期轮换 API 密钥

### 2. Webhook 安全
- 验证 Webhook 签名
- 使用 HTTPS
- 设置合理的超时时间

### 3. 数据保护
- 启用 PCI DSS 合规
- 使用 3D Secure
- 实施欺诈检测

---

*完成注册后，你就可以开始使用 Stripe 处理全球支付了！*








